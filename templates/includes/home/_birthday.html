{% load static %}

<section class="bg-smoke vs-class--area space-extra-top space-extra-bottom z-index-common overflow-hidden" 
         style="background:#fff">
    <div class="container">
        <!-- Title Section -->
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="vs-title text-center title-anime animation-style2">
                    <div class="title-anime__wrap">
                        <!-- Alt BaÅŸlÄ±q -->
                        {% if event.subtitle %}
                            <span class="sec-subtitle">ğŸ‰ {{ event.subtitle }}</span>
                        {% else %}
                            <span class="sec-subtitle">ğŸ‰ XÃ¼susi TÉ™dbirlÉ™r</span>
                        {% endif %}

                        <!-- Æsas BaÅŸlÄ±q -->
                        {% if event.title %}
                            <h2 class="sec-title">{{ event.title }}</h2>
                        {% else %}
                            <h2 class="sec-title">DoÄŸum GÃ¼nÃ¼ ÅÉ™nliklÉ™ri</h2>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="row align-items-center g-4 mt-4">
            <!-- Left Side - Text Content -->
            <div class="col-lg-6 wow animate__fadeInLeft" data-wow-delay="0.3s">
                <div style="border: 3px solid var(--vs-secondary-color); border-radius: 30px;" 
                     class="vs-class__content p-4 bg-white rounded-4 shadow-sm">
                    
                    <!-- Ä°Ã§ BaÅŸlÄ±q -->
                    {% if event.title %}
                        <h3 class="vs-class__heading mb-4">ğŸ‚ {{ event.title }}</h3>
                    {% else %}
                        <h3 class="vs-class__heading mb-4">ğŸ‚ DoÄŸum GÃ¼nÃ¼nÃ¼ Alisa Club-da Qeyd Et</h3>
                    {% endif %}

                    <!-- TÉ™svir -->
                    {% if event.description %}
                        <p class="vs-class__text mb-4">{{ event.description|safe }}</p>
                    {% else %}
                        <p class="vs-class__text mb-4">
                            UÅŸaÄŸÄ±nÄ±z Ã¼Ã§Ã¼n mÃ¶cÃ¼zÉ™ dolu doÄŸum gÃ¼nÃ¼ ÅŸÉ™nliyi! SeÃ§diyiniz mÃ¶vzuda oyunlar, 
                            dekorasiyalar vÉ™ sÃ¼rprizlÉ™r â€” hamÄ±sÄ± Alisa Club-da.
                        </p>
                    {% endif %}

                    <!-- XÃ¼susiyyÉ™tlÉ™r -->
                    <div class="birthday-features mb-4">
                        {% if features.exists %}
                            {% for feature in features %}
                            <div class="d-flex align-items-center mb-3">
                                <span class="feature-icon me-3">{{ feature.icon }}</span>
                                <span>{{ feature.text }}</span>
                            </div>
                            {% endfor %}
                        {% else %}
                            <div class="d-flex align-items-center mb-3">
                                <span class="feature-icon me-3">ğŸˆ</span>
                                <span>Tematik dekorasiyalar vÉ™ bÉ™zÉ™k</span>
                            </div>
                            <div class="d-flex align-items-center mb-3">
                                <span class="feature-icon me-3">ğŸ®</span>
                                <span>ÆylÉ™ncÉ™li oyunlar vÉ™ animasiya</span>
                            </div>
                            <div class="d-flex align-items-center mb-3">
                                <span class="feature-icon me-3">ğŸ°</span>
                                <span>DadlÄ± tort vÉ™ qÉ™lyanaltÄ±lar</span>
                            </div>
                            <div class="d-flex align-items-center mb-3">
                                <span class="feature-icon me-3">ğŸ</span>
                                <span>XÃ¼susi hÉ™diyyÉ™lÉ™r vÉ™ sÃ¼rprizlÉ™r</span>
                            </div>
                            <div class="d-flex align-items-center mb-3">
                                <span class="feature-icon me-3">ğŸ“¸</span>
                                <span>PeÅŸÉ™kar foto vÉ™ video Ã§É™kiliÅŸ</span>
                            </div>
                            <div class="d-flex align-items-center">
                                <span class="feature-icon me-3">ğŸª</span>
                                <span>GeniÅŸ vÉ™ tÉ™hlÃ¼kÉ™siz oyun zonasÄ±</span>
                            </div>
                        {% endif %}
                    </div>

                    <!-- DÃ¼ymÉ™lÉ™r -->
                    <div class="d-flex gap-3 flex-wrap">
                        {% if event.button_text %}
                            <a href="{% url 'birthday' %}" class="vs-btn style2">{{ event.button_text }}</a>
                        {% else %}
                            <a href="{% url 'birthday' %}" class="vs-btn style2">ÆtraflÄ± Bax</a>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Right Side - Image -->
            <div class="col-lg-6 wow animate__fadeInRight" data-wow-delay="0.5s">
                <div class="vs-class__figure position-relative">
                    <a class="vs-class__figure--link d-block" href="{% url 'birthday' %}">
                        {% if event.image %}
                            <img style="height: 100%; border-radius: 30px; object-fit: cover;" 
                                 class="vs-class__figure--img w-100 rounded-4 shadow-lg" 
                                 src="{{ event.image.url }}" 
                                 alt="{{ event.title|default:'DoÄŸum gÃ¼nÃ¼ ÅŸÉ™nliyi' }}">
                        {% else %}
                            <img style="height: 100%; border-radius: 30px;" 
                                 class="vs-class__figure--img w-100 rounded-4 shadow-lg" 
                                 src="https://www.hotcouponworld.com/wp-content/uploads/2025/02/happy-birthday-cake-wishes-4.jpg" 
                                 alt="DoÄŸum gÃ¼nÃ¼ ÅŸÉ™nliyi">
                        {% endif %}
                        
                        <!-- Dekorativ Badge -->
                        <div class="birthday-badge position-absolute top-0 end-0 m-3 bg-white rounded-circle p-3 shadow">
                            <span style="font-size: 2rem;">ğŸ‰</span>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- Stil vÉ™ Skript -->
<style>
    .feature-icon {
        font-size: 1.5rem;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #ff6b9d 0%, #ffa06b 100%);
        border-radius: 50%;
        flex-shrink: 0;
    }

    .birthday-badge {
        animation: bounce 2s infinite;
    }

    @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }
</style>

<script>
    function adjustImageHeight() {
        const textCol = document.querySelector('.col-lg-6.wow.animate__fadeInLeft');
        const img = document.querySelector('.col-lg-6.wow.animate__fadeInRight img');
        if (textCol && img) {
            img.style.height = textCol.offsetHeight + 'px';
            img.style.objectFit = 'cover';
        }
    }

    window.addEventListener('load', adjustImageHeight);
    window.addEventListener('resize', adjustImageHeight);

    // Smooth scroll for reservation button
    document.querySelectorAll('.smooth-scroll').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
</script>